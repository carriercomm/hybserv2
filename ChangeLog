$Id$

  + = Added a feature
  - = Fixed a bug
  * = Changed something
  ^ = Other

Hybserv-HEAD

  - write only registered opers in oper.db
  * localtime fixes -- instead of gmtime() use localtime() which
    supposedly knows of DST; fix long-standing GMT bug
  * update MaxLogs docs: upgrade, src, etc.
  - fix #120: don't show notice if person issuing NS INFO command is
    yourself
  * undef GECOSBANS as default, undef HYBRID_GLINES as default for Hybrid7
    [thanks Ales Tokic]
  + SeenServ will rejoin channel after kick
  * smaller fixes for autoconf
  - fix #119: tabs/spaces issues in nickserv.c
  - fix #118: minor typo in msg when adding an autokick [Brian]
  - fixed several ircncmp() uses with wrong length
  - fix #115: missing read of LASTSERV from oper.db [Brian Brazil]
  + fix #116: don't write out nick_ts if identified within last 5 minutes
    [Brian Brazil]
  + fix #117: invalidate nick_ts when user is KILLed [Brian Brazil]
  * add support for Boehm GC
  - fix #114: get record_restart_ts working with netsplits again [Brian
    Brazil]
  * fix #111: make FALLBACK_TO_KILL mandatory and integrated with rest of
    collide()
  * fix #112: update pubcommands help page
  * fix for #104, use more standard RecordCommand for GREPLOG
  + add PUBCOMMANDS enhancements from Ilian Jovchev
  * fix for #105, log the New Max *** counters [Brian, again :)]
  + use line-buffered stream for logs
  + fix for #106, don't open logfile for each entry - now we open and
    close logs only when needed [thanks Brian Brazil]
  - fix docs to close #94 again [thanks Brian Brazil]
  + be more paranoid on NICK, non-netsplit QUIT - mark old nicknames as
    unusable for RECORD_RESTART_TS [suggestion from Brian Brazil]
  - fix #103: MLOCK + causes services to split
  - fix #93: when expiring channels check if any members idle there and
    what is their access
  - fix #94: when channel is CS_RESTRICTED it is enough to have CA_CMDOP
    instead of CS_AUTOOP
  - fix #91: RECORD_RESTART_TS supersedes RECORD_SPLIT_TS, remove all
    RECORD_SPLIT_TS code
  - fix #101: LEVEL LIST is now logged
  + when recording TS, record a servername for the originating nickname
    too and do both servername and ts check for opers and plain users
  + be smarter in collide() - don't do pseudo nicknames when no need
  - fix possible bug with nickserv ghost/collide pseudo nick never leaving
    [needs further testing]
  - fix compile problem with PUBCOMMAND in server.c
  - fix issue with forbidden channels and expired founder/sucessor in
    cs_loaddata()

Hybserv-1.9.2

  ^ stage to REL_1_9_2 [03/17/2006]
  - OperServ should join channels which are to be monitored [partially
    done]
  * better services admin checks for sadmin-privilege commands [thanks
    Ilian]
  * rearrange cs/ss_part code into DeleteChan()
  * fix warnings when undef SERVICES_FIGHT_FIX
  + add NickServ clearnoexp
  * update ChanServ clearnoexp behaviour - lastused flag should be updated
    on clear expire [from Ilian Jovchev/ShakeIT
  + when adding already added entry in channel access list, update
    added_by nickname [from Ilian Jovchev/ShakeIT]
  - fix for long-standing linked nicknames circular bug [thank you Ilian
    Jovchev and ShakeIT!]
  * changes for ss_part/ss_join/es_part/es_join [mostly by ShakeIT]
  + SeenServ on channels, pubcommands for SeenServ: !seen, !seennick, !op
    and !deop [from t0sh and CoolCold, heavily edited]
  - fix leap years timeago() bug [reported by Todor Dimitrov]
  * fix incompatibility with m_forcenick.c and Hybrid 7.2
  + add NeverOP patch [from CoolCold], user with such flag won't be opped
    when he/she joins any channel - and it is user-selectable
  + keep track of who added a hostmask in the access list [from sofit]
  ^ fixes for n_noexpire [from sofit]
  - fix crash in port listener when got socket = -1 [socket() would fail
    on one of interface's addresses]
  ^ release collide timer immediately after FORCENICK/SVSNICK; use
    FALLBACK_TO_KILL to make sure that nickname gets collided for sure,
    even on mixed networks [some servers without FORCENICK/SVSNICK
    command]
  - fix the crash in HasAccess() caused by order of NULLptr checks [thanks
    Todor Dimitrov]
  - fix crash in set level, no check for index == 0
  - fix smartmasking if . is in username
  - fix some of AutoOp issues
  - allow user to dehalfop himself, as well as halfop ALL [all channels he
    is on]
  + add secure messaging [from CoolCold, heavily edited]
  - fix inconsistencies with NS_FORBID, NS_COLLIDE and NS_RELEASE usage
  - fix log rotation bug
  + add ability to notify opers on INFO [from CoolCold]
  - fix log rotation and greplog issues with LogPath
  - fix GetLink() issue in HasAccess() which occuren when !AutoOpAdmins:
    admins woudn't get +o on channels where they had normal access
  - fix several off-by-one errors
  * fix m_forcenick.c to compile under Hybrid 7.1.3 [from sofit]
  * update AutoOpAdmins documentation [from Brian Brazil]
  * enforce usage of LogPath, for logs to be in a directory
  - fixed outstanding bug in InsertLink() where chan access lists where
    shallow copied, instead of making new instance and deleting old
  - check for duplicates when adding founder or channel access
  * fixes for EMPOWERADMINMORE and AutoOPAdmin behaviour [from Brian
    Brazil]
  + add OperServ TS saving when restart [from Brian Brazil]
  + fallback to plain KILL if FORCENICK doesn't suceed [from Brian Brazil]
  + save authentication TS when netsplit or restart, so users don't have
    to reauthenticate [from Brian Brazil]
  - fix network variables misoverride in configure
  + patch from Brian Brazil to send notices in m_forcenick
  - fix missing global help in helpserv as well as other similar bugs
  - fixed missing Nickserv ACCESS for administrators
  - fixed local listener issue [listening bug, resolve bug]
  ^ moved compatibility stuff into compat/, made fallbacks if we
    don't have strtoul, strerror, strdup
  ^ new logging scheme applied
  + add password recovery and recover phrase into NickServ [thanks bane!]
  - fixes for broken getaddrinfo() on some glibc2 platforms [thanks knight
    and adx]

Hybserv-1.9.1

  ^ stage it to REL_1_9_1 [09/26/2005]
  + Substitute now works for dcc motd and server [logon] motd
  * rewrote Substitute code
  * rewrote core string/array handling functions SplitBuf() and
    GetString()
  + add basic IPv6 support and getaddrinfo/getnameinfo stuff
  + add configurable FORCENICK/SVSNICK prefix
  + strlcat/strlcpy merge, lot of memory stuff fixes, better internal
    spill control, less malloc/realloc stuff, less useless memsets
  - fix excessive writesock usage, fix several DCC-related issues
  - greplog fixes
  - fixes for NickServ's set EXPIRE
  * rewrote n_set* group of functions to allow SET <nickname> PARAM
    [flags] for any nickname linked with sender nickame and for admins to be
    able to change settings for users, if EMPOWERADMINMORE
  + add MinChanUsers, which allows administrator to set minimum channel
    users requirement for channel registration
  - fix reload coring services
  * new channels registered by opers are not NOEXPIRE by default
  + implement options for ChanServ LIST
  + add reason informations for nick and channel forbid [can be seen with
    info commands]
  - fix smaller leak in DeleteChan
  - fix forbidden channels dissapearing after save
  + add --enable-efence support
  + add --with-network, possible targets are idolnet, balcannet, hybrid,
    hybrid7, dancer
  - fix a dozen of format string vulnerabilities [thanks Ales Tokic for
    notice]
  + import newer match.c, which has '#' wildcard [thanks Ales Tokic for
    notice]
  + add --enable-asserts, --enable-gimmecore and --enable-daemontools
  + add --enable-warnings, --with-nicklen, --with-chanellen and
    --with-topiclen
  - several Solaris fuckups fixed
  - fix for invalid link count [fix from sofit]
  - fix for autovoice/autoop for operserv admins, problem with
    EMPOWERADMINS_MORE [fix from sofit]
  * global code and style cleanups
  * massive rewrite of includes and better detection of system
    headers/functions
  - fix trace to show channels when using -long parameters
  * Makefile and configure script changes
  * totally rip out mode +a support, since there is no anonops in recent
    Hybrid7
  ^ move autoconf stuff from autoconf/ to root .
  * halfops support is now under #define HYBRID7_HALFOPS
  - fix cs_invite() not to invite if channel isn't +i
  - fix SJOIN event to remove invite and ban exceptions properly, dump old
    data as required
  * rip off TakeOver() and rewrite o_secure() - idea is to use as much as
    possible of already written ChanServ code; new code will autoop Admins
    only if AutoOpAdmins is set.. and will do stuff is should have been
    doing already [but it didn't]
  ^ since I've migrated to Subversion, we've lost automatic ChangeLog, so
    I'll be manually writing the changes every now and then
  * fix ghost to use instant collide, instead of KILL
  * don't allow ghosting self
  * don't allow op all if NOCHANOPS
  - fix clearnoexp, add pattern matching
  * updates for NickServ's list command:
    + implement matching flags
    + remove display limits
    ^ update documentation
  * rip off unseen - it was buggy and ugly anyway, and I'm not fond of
    repairing the broken code
  * regularly part channels which ChanServ shouldn't be on
  + code FORCENICK_LEN
  * when manually adding nicknames to collision list, notify them with
    proper messaging
  + add FORCENICK
  + add SVSNICK
  * update config.h defaults to Hybrid7 [yay, at last!]

 -- Dinko Korunic <dinko|korunic|AT|gmail|com>

# vim: ft=changelog:ts=2:et
